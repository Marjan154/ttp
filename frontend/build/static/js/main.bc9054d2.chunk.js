(this["webpackJsonpttp-fullstack-2020"]=this["webpackJsonpttp-fullstack-2020"]||[]).push([[0],{101:function(e,t,a){},103:function(e,t,a){},110:function(e,t,a){e.exports=a.p+"static/media/user.44803aa4.png"},111:function(e,t,a){e.exports=a.p+"static/media/transaction.ebbe274a.png"},112:function(e,t,a){e.exports=a.p+"static/media/payment-method.1de19f4e.png"},113:function(e,t,a){},115:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(25),c=a.n(o),l=(a(78),a(15)),s=a(30),i=(a(79),a(21)),u=a(32),m=a(10),p=a(11),h=a(13),d=a(12),f=a(14),b=function(e){function t(){return Object(m.a)(this,t),Object(h.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("footer",{style:{bottom:0,width:"100%",height:"130px",backgroundColor:"#1e1e6e",color:"white",paddingTop:"5px",position:"relative",marginTop:"44vh"}},r.a.createElement("div",{className:"container text-center"},r.a.createElement("span",{className:"myfont",style:{width:"100%"}},r.a.createElement("b",null,"Created by: "),r.a.createElement("br",null),"Marjan Ansar"),r.a.createElement("div",null,"Icons made by"," ",r.a.createElement("a",{href:"https://www.flaticon.com/authors/freepik",title:"Freepik"},"Freepik")," ","from"," ",r.a.createElement("a",{href:"https://www.flaticon.com/",title:"Flaticon"},"www.flaticon.com"))))}}]),t}(n.Component),E=a(9),y=a.n(E),g=(a(62),function(e){function t(){var e;return Object(m.a)(this,t),(e=Object(h.a)(this,Object(d.a)(t).call(this))).onSubmit=function(t){t.preventDefault(),y.a.put("https://floating-bastion-36036.herokuapp.com/api/auth/login",Object(u.a)({},e.state)).then((function(e){return e.data})).then((function(t){e.setState({invalid:!1}),e.props.history.replace("/home/".concat(t.email))})).catch((function(t){e.setState({invalid:!0}),console.log(t)}))},e.inputHandler=function(t){t.preventDefault(),e.setState(Object(i.a)({},t.target.name,t.target.value))},e.state={email:"",password:"",invalid:!1},e}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"login-page"},r.a.createElement("h1",null,"STOCK PORTFOLIO"),this.state.invalid?r.a.createElement("h5",{style:{padding:"15px",backgroundColor:"#ed8282",color:"white",opacity:"85%"}},"Invalid Username or Login"):r.a.createElement("div",null),r.a.createElement("div",{className:"form",id:"lform"},r.a.createElement("form",{className:"login-form",onSubmit:this.onSubmit},r.a.createElement("input",{type:"text",placeholder:"Email",name:"email",required:!0,onChange:this.inputHandler}),r.a.createElement("input",{type:"password",required:!0,placeholder:"Password",name:"password",onChange:this.inputHandler}),r.a.createElement("button",null,"Login"),r.a.createElement(l.Link,{to:"/register"},r.a.createElement("p",{className:"message"},"Not registered?")))))}}]),t}(n.Component)),v=function(e){function t(){var e;return Object(m.a)(this,t),(e=Object(h.a)(this,Object(d.a)(t).call(this))).onSubmit=function(t){t.preventDefault(),y.a.post("https://floating-bastion-36036.herokuapp.com/api/users/create",Object(u.a)({},e.state)).then((function(t){e.props.history.push("/home/".concat(t.data.email))})).catch((function(t){e.setState({invalid:!0}),console.log(t)}))},e.inputHandler=function(t){t.preventDefault(),e.setState(Object(i.a)({},t.target.name,t.target.value))},e.state={name:"",email:"",password:"",invalid:!1},e}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"login-page"},r.a.createElement("h1",null,"STOCK PORTFOLIO"),this.state.invalid?r.a.createElement("h5",{style:{padding:"15px",backgroundColor:"#ed8282",color:"white",opacity:"85%"}},"This user already exists."):r.a.createElement("div",null),r.a.createElement("div",{className:"form"},r.a.createElement("form",{className:"login-form",onSubmit:this.onSubmit},r.a.createElement("input",{type:"text",required:!0,placeholder:"name",name:"name",onChange:this.inputHandler}),r.a.createElement("input",{type:"text",required:!0,placeholder:"email address",name:"email",onChange:this.inputHandler}),r.a.createElement("input",{type:"password",required:!0,placeholder:"password",name:"password",onChange:this.inputHandler}),r.a.createElement("button",null,"create"),r.a.createElement(l.Link,{to:"/"},r.a.createElement("p",{className:"message"},"Already registered?")))))}}]),t}(n.Component),x=(a(101),a(4)),k=a.n(x),O=a(7),w=(a(64),a(123)),j=a(122),S=a(71),N=(a(103),a(35)),C=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).state={email:a.props.match.params.email},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=this.state.email,a=this.props.location.pathname.includes("/home/")?{height:"100px",fontSize:"1.5rem",fontFamily:"Ubuntu, sans-serif",fontWeight:"1000",color:"white",backgroundColor:"#1e1e6e"}:{height:"100px",fontSize:"1.7rem",fontFamily:"Ubuntu, sans-serif",fontWeight:"1000",color:"#1e1e6e",backgroundColor:"white"};return"/"===this.props.location.pathname||"/register"===this.props.location.pathname?r.a.createElement("div",null):r.a.createElement(w.a,{collapseOnSelect:!0,expand:"lg",variant:this.props.location.pathname.includes("/home/")?"dark":"light",style:a},r.a.createElement(N.LinkContainer,{style:a,to:"/home/".concat(t)},r.a.createElement(w.a.Brand,{style:a,href:"/home/".concat(t)},"StockPortfolio")),r.a.createElement(w.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r.a.createElement(w.a.Collapse,{id:"responsive-navbar-nav",style:{color:"white"}},r.a.createElement(j.a,{className:"ml-auto"},r.a.createElement(N.LinkContainer,{style:a,to:"/home/".concat(t)},r.a.createElement(S.a,{eventKey:1},"Home")),r.a.createElement(N.LinkContainer,{style:a,to:"/buy/".concat(t)},r.a.createElement(S.a,{eventKey:2},"Buy")),r.a.createElement(N.LinkContainer,{style:a,to:"/transactions/".concat(t)},r.a.createElement(S.a,{eventKey:3},"Transactions")),r.a.createElement(N.LinkContainer,{style:a,to:"/profile/".concat(t)},r.a.createElement(S.a,{eventKey:4},"Profile")),r.a.createElement(S.a,{eventKey:5,onClick:function(){y.a.delete("https://floating-bastion-36036.herokuapp.com/api/auth/logout").then((function(e){return e.data})).then((function(t){e.props.history.replace("/")}))}},"Logout"))))}}]),t}(n.Component),T=Object(s.o)(C);a(107).config();var B="Tpk_629c2ff3f36c4aa4821c7f061431f683",F=(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_IEX_API_KEY,function(){var e=Object(O.a)(k.a.mark((function e(t){var a,n,r,o;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="https://sandbox.iexapis.com/stable/search/".concat(t,"?token=").concat(B),e.next=3,y.a.get(a).then((function(e){return e.data}));case 3:return n=e.sent,r=n.map((function(e){return e.symbol})),e.next=7,D(r);case 7:return o=e.sent,e.abrupt("return",[n,o]);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),D=function(){var e=Object(O.a)(k.a.mark((function e(t){var a,n,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.join(","),n="https://sandbox.iexapis.com/stable/stock/market/batch?symbols=".concat(a,"&types=price,quote,ohlc&token=").concat(B),e.next=4,y.a.get(n).then((function(e){return e.data}));case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(O.a)(k.a.mark((function e(t,a,n){var r,o,c;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://floating-bastion-36036.herokuapp.com/api/transactions/transactions/",e.next=3,y.a.get("https://floating-bastion-36036.herokuapp.com/api/transactions/transactions/",{params:{email:t,limit:n,offset:a}});case 3:return r=e.sent,o=r.data.map((function(e){return e.symbol})),e.next=7,D(o);case 7:return c=e.sent,e.abrupt("return",[r.data,c]);case 9:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),P=function(){var e=Object(O.a)(k.a.mark((function e(t){var a,n,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://floating-bastion-36036.herokuapp.com/api/transactions/groupbysymbol/",e.next=3,y.a.get("https://floating-bastion-36036.herokuapp.com/api/transactions/groupbysymbol/",{params:{email:t}});case 3:return a=e.sent,n=a.data.map((function(e){return e.symbol})),e.next=7,D(n);case 7:return r=e.sent,e.abrupt("return",[a.data,r]);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(O.a)(k.a.mark((function e(t){var a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://floating-bastion-36036.herokuapp.com/api/users/find/",e.next=3,y.a.get("https://floating-bastion-36036.herokuapp.com/api/users/find/",{params:{email:t}});case 3:return a=e.sent,e.abrupt("return",a.data.balance);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=Object(O.a)(k.a.mark((function e(t){var a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://floating-bastion-36036.herokuapp.com/api/transactions/spent/",e.next=3,y.a.get("https://floating-bastion-36036.herokuapp.com/api/transactions/spent/",{params:{email:t}});case 3:return a=e.sent,e.abrupt("return",a.data[0]?a.data[0].spent:0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(O.a)(k.a.mark((function e(t){var a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("inn"),"https://floating-bastion-36036.herokuapp.com/api/transactions/count/",e.next=4,y.a.get("https://floating-bastion-36036.herokuapp.com/api/transactions/count/",{params:{email:t}});case 4:return a=e.sent,console.log("count is",a),e.abrupt("return",a.data[0]?a.data[0].count:0);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=Object(O.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://floating-bastion-36036.herokuapp.com/api/transactions/transactions/",e.next=3,y.a.post("https://floating-bastion-36036.herokuapp.com/api/transactions/transactions/",Object(u.a)({},t));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).state={email:a.props.match.params.email,balance:0,searchbarVal:"",bestMatches:[]},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(O.a)(k.a.mark((function e(){var t,a,n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(this.state.email);case 2:return t=e.sent,e.next=5,I(this.state.email);case 5:return a=e.sent,e.next=8,H(this.state.email);case 8:n=e.sent,this.setState({balance:Number(t).toFixed(2),count:a,spent:n});case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.email,t=new Date(Date.now());return r.a.createElement("div",null,r.a.createElement(T,null),r.a.createElement("div",null,r.a.createElement("div",{className:"banner"},r.a.createElement("div",{className:"grid-container"},r.a.createElement("h1",{id:"homeTitle"},"Welcome ",e," !"),r.a.createElement("h1",{style:{color:"white",width:"100vw",marginTop:"-5vh"}},"Today is ",t.toDateString(),".",r.a.createElement("br",null),"Your balance is $",this.state.balance,". What would you like to do today?"),r.a.createElement("div",{className:"stats"},r.a.createElement(l.Link,{to:"/profile/".concat(e),style:{textDecoration:"none"}},r.a.createElement("div",{className:"stat"},r.a.createElement("div",null,r.a.createElement("img",{src:a(110),style:{padding:"20px"},className:"p-icon"}),r.a.createElement("h3",null,"View Profile"),r.a.createElement("h4",{style:{color:"#1e1e6e"}},"Your balance is $",this.state.balance)))),r.a.createElement(l.Link,{to:"/transactions/".concat(e),style:{textDecoration:"none"}},r.a.createElement("div",{className:"stat"},r.a.createElement("div",null,r.a.createElement("img",{src:a(111),style:{padding:"20px"},className:"p-icon"}),r.a.createElement("h3",null,"View Transactions"),r.a.createElement("h4",{style:{color:"#1e1e6e"}},this.state.count?"You have made ".concat(this.state.count," puchases"):"Your purchase history")))),r.a.createElement(l.Link,{to:"/buy/".concat(e),style:{textDecoration:"none"}},r.a.createElement("div",{className:"stat"},r.a.createElement("div",null,r.a.createElement("img",{src:a(112),style:{padding:"20px"},className:"p-icon"}),r.a.createElement("h3",null,"Buy Stocks"),r.a.createElement("h4",{style:{color:"#1e1e6e"}},this.state.spent?"You have spent $".concat(this.state.spent," on stocks"):"Invest today")))))))))}}]),t}(n.Component),M=a(45),Y=a(119),K=a(120),q=a(117),R=a(118),V=a(121),W=function(e){var t=Object(n.useState)(!1),a=Object(M.a)(t,2),o=a[0],c=a[1],l=function(){var t=Object(O.a)(k.a.mark((function t(){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c(!0),e.canBuy&&setTimeout(Object(O.a)(k.a.mark((function t(){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.handleBuy();case 2:case"end":return t.stop()}}),t)}))),650);case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return r.a.createElement(q.a,null,r.a.createElement(R.a,{xs:6},r.a.createElement(V.a,{onClose:function(){return c(!1)},show:o,delay:3e3,autohide:!0},r.a.createElement(V.a.Body,null,e.canBuy?"Thank You for Buying!":"Sorry, you don't have enough to buy!"))),r.a.createElement(R.a,{xs:6},r.a.createElement(Y.a,{style:{backgroundColor:"#1e1e6e"},onClick:function(){return l()}},"Buy")))},z=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).genericModal=function(){var e=Object(n.useState)(!1),t=Object(M.a)(e,2),o=t[0],c=t[1],l=a.props.info,s=l.price,i=l.symbol,u=l.shares,m=l.balance,p=function(){var e=Object(O.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.props.buy(s,u,i);case 2:return e.next=4,a.props.refresh();case 4:c(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(Y.a,{variant:"primary",onClick:function(){return c(!0)},style:{backgroundColor:"#1e1e6e"}},a.props.label),r.a.createElement(K.a,{show:o,onHide:function(){c(!1)}},r.a.createElement(K.a.Header,{closeButton:!0},r.a.createElement(K.a.Title,null,a.props.title)),r.a.createElement(K.a.Body,null," ",a.props.form),r.a.createElement(K.a.Footer,null,r.a.createElement(W,{handleBuy:p,canBuy:s<=m}))))},a.state={startDate:new Date},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement(this.genericModal,null)}}]),t}(n.Component),U=function(e){function t(e){var a,n;return Object(m.a)(this,t),(n=Object(h.a)(this,Object(d.a)(t).call(this,e))).stylesInput={width:"80%",boxSizing:"border-box",border:"2px solid #ccc",borderRadius:"4px",fontSize:"30px",backgroundColor:"white",backgroundPosition:"10px 10px",backgroundRepeat:" no-repeat",padding:"12px 20px 12px 40px"},n.stylesButton={backgroundColor:"#1e1e6e",inline:"block",border:"none",color:"white",padding:"14px",textAlign:"center",textDecoration:"none",display:"inline - block",fontSize:"30px",margin:"4px 2px",cursor:"pointer",borderRadius:"10px",marginLeft:"5px"},n.inputHandler=function(e){e.preventDefault(),n.setState(Object(i.a)({},e.target.name,e.target.value),(function(){}))},n.onSubmit=function(e){e.preventDefault(),F(n.state.searchbarVal).then((function(e){n.setState({bestMatches:e[0],stockInfo:e[1]})}))},n.buyForm=function(e,t){return r.a.createElement("div",null,r.a.createElement("h2",{id:"cost"},"The price is $",Number(parseFloat(e)*parseInt(n.state.shares_amount)).toFixed(2)),r.a.createElement("form",null,r.a.createElement("input",{type:"number",pattern:"[0-9]*",min:"1",required:!0,placeholder:"Number of shares",name:"shares_amount",defaultValue:1,onChange:n.inputHandler})))},n.buy=function(){var e=Object(O.a)(k.a.mark((function e(t,a,r){var o,c;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=parseInt(a),c=parseFloat(t)*o,console.log(o,c,c*o),!(n.state.balance<c)){e.next=7;break}console.log("not enough"),e.next=10;break;case 7:return e.next=9,$({shares:o,cost:c,symbol:r,email:n.state.email});case 9:console.log("enough money");case 10:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),n.refresh=Object(O.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:L(n.state.email).then((function(e){n.setState({balance:Number(e).toFixed(2)})}));case 1:case"end":return e.stop()}}),e)}))),n.displaySearches=function(e,t){return e&&e.map((function(e){var a=t[e.symbol].price||t[e.symbol].quote.latestPrice,o={price:a,shares:n.state.shares_amount,symbol:e.symbol,balance:n.state.balance};return r.a.createElement("tr",{key:e.symbol},r.a.createElement("td",null," ",e.symbol),r.a.createElement("td",null,e.securityName),r.a.createElement("td",null,e.securityType),r.a.createElement("td",null," ",e.region," "),r.a.createElement("td",null,e.exchange),r.a.createElement("td",null,"$",Number(a).toFixed(2)),r.a.createElement("td",null,r.a.createElement(z,{form:n.buyForm(a,e.symbol),label:"Buy",title:'Buy stock "'.concat(e.symbol,'"'),refresh:n.refresh,buy:n.buy,info:o})))}))},n.state=(a={email:n.props.match.params.email,balance:0,searchbarVal:"",bestMatches:[],stockInfo:{}},Object(i.a)(a,"balance",0),Object(i.a)(a,"price",0),Object(i.a)(a,"shares_amount",1),a),n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(O.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(this.state.email);case 2:t=e.sent,this.setState({balance:Number(t).toFixed(2)});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.displaySearches(this.state.bestMatches,this.state.stockInfo);return r.a.createElement("div",null," ",r.a.createElement(T,null),r.a.createElement("div",{style:{marginTop:"100px",marginBottom:"50px"}},r.a.createElement("h1",{style:{margin:"30px",color:"#1e1e6e",marginTop:"-5vh"}},"Make Transactions"),r.a.createElement("h1",{style:{textAlign:"right",padding:"40px",color:"#91b0ff",marginTop:"-5vh"}},"Your balance is $",this.state.balance),r.a.createElement("div",{style:{marginBottom:"20px"}},r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("input",{type:"text",placeholder:"Search stock",required:!0,name:"searchbarVal",onChange:this.inputHandler,style:this.stylesInput}),r.a.createElement("button",{style:this.stylesButton},"Search"))),r.a.createElement("div",null,r.a.createElement("div",{style:{marginBottom:"50px"}},r.a.createElement("table",{className:"datatable",style:{width:"85vw",boxShadow:"4px 4px 5px grey",margin:"auto",paddingTop:"80px"}},e.length?r.a.createElement("thead",{className:"thead-light"},r.a.createElement("tr",null,r.a.createElement("th",null,"Symbol"),r.a.createElement("th",null,"Security Name"),r.a.createElement("th",null,"Security"),r.a.createElement("th",null,"Region"),r.a.createElement("th",null,"Exchange"),r.a.createElement("th",null,"Price"),r.a.createElement("th",null,"Buy"))):r.a.createElement("div",null),r.a.createElement("tbody",null,e))))))}}]),t}(n.Component),J=(a(113),function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).findTransactions=function(e,t){_(a.state.email,e,t).then((function(e){a.setState({transactions:e[0]})})).catch((function(e){a.setState({loading:!1}),console.log(e)}))},a.findNext=function(){var e=a.state,t=e.limit,n=e.offset;if(a.state.transactions.length>=t){a.disableButton("next_button",!1),a.disableButton("back_button",!1);var r=n+t;a.setState({offset:r,page:a.state.page+1},(function(){a.findTransactions(a.state.offset,a.state.limit)}))}else a.disableButton("next_button",!0)},a.findPrevious=function(){var e=a.state,t=e.limit,n=e.offset;if(n&&n>0){a.disableButton("next_button",!1);var r=n-t<0?0:n-t;a.setState({offset:r,page:a.state.page-1},(function(){a.findTransactions(a.state.offset,a.state.limit)}))}else a.disableButton("back_button",!0)},a.displayTrans=function(e){return e.length?e.map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,a.state.offset," ",t+1," ",a.state.offset+t+1),r.a.createElement("td",null,e.date.toString()),r.a.createElement("td",null," ",e.symbol),r.a.createElement("td",null,e.shares),r.a.createElement("td",null,"$",e.cost))})):r.a.createElement("h1",null,"You have no transactions!")},a.state={email:a.props.match.params.email,transactions:[],display:[],loading:!0,offset:0,limit:20,page:1},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.findTransactions(this.state.offset,this.state.limit),L(this.state.email).then((function(t){e.setState({balance:Number(t).toFixed(2)})})),H(this.state.email).then((function(t){e.setState({spent:Number(t).toFixed(2)})}))}},{key:"disableButton",value:function(e,t){document.getElementById(e).disabled=t}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(T,null),r.a.createElement("div",{style:{marginTop:"100px"}},r.a.createElement("h1",{style:{margin:"30px",color:"#1e1e6e",marginTop:"-5vh"}},"My Transactions"),r.a.createElement("h1",{style:{textAlign:"right",padding:"40px",color:"#91b0ff",marginTop:"-5vh"}},"Your balance is $",this.state.balance),r.a.createElement("h1",{style:{textAlign:"right",padding:"40px",color:"#91b0ff",marginTop:"-5vh"}},"Your have spent a total of $",this.state.spent),this.state.transactions.length?r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("table",{className:"datatable",style:{width:"85vw",boxShadow:"4px 4px 5px grey",margin:"auto",paddingTop:"80px"}},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"Date"),r.a.createElement("th",null,"Symbol/Ticker"),r.a.createElement("th",null,"Number of Shares"),r.a.createElement("th",null,"Cost")),this.state.transactions.map((function(t,a){return r.a.createElement("tr",{key:a},r.a.createElement("td",null,e.state.offset+a+1),r.a.createElement("td",null,t.date.toString()),r.a.createElement("td",null," ",t.symbol),r.a.createElement("td",null,t.shares),r.a.createElement("td",null,"$",t.cost))}))))),r.a.createElement("div",{className:"buttonContainer"},r.a.createElement("button",{className:"mybutton",onClick:this.findPrevious,id:"back_button"},"Back"),r.a.createElement("h5",null,1+Math.ceil(this.state.offset/this.state.limit)),r.a.createElement("button",{className:"mybutton",onClick:this.findNext,id:"next_button"},"Next"))):r.a.createElement("h1",null,this.state.loading?"Loading...":"You have no transactions!")))}}]),t}(n.Component)),G=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).displayTrans=function(e,t){return e&&e.map((function(e){var a=t[e.symbol].price,n=t[e.symbol].quote.latestPrice,o=a||n,c=t[e.symbol].ohlc.open.price||n||"N/A",l=t[e.symbol].ohlc.close.price||n||"N/A",s=o*e.shares,i={color:Number(o).toFixed(2)===Number(c).toFixed(2)?"grey":o>c?"green":"red"};return r.a.createElement("tr",{key:e.symbol},r.a.createElement("td",{style:i}," ",e.symbol),r.a.createElement("td",null,e.shares),r.a.createElement("td",{style:i},r.a.createElement("strong",null,"$",Number(s).toFixed(2))),r.a.createElement("td",{style:i}," $",Number(a).toFixed(2)," "),r.a.createElement("td",null,"$",Number(c).toFixed(2)," "),r.a.createElement("td",null," $",Number(l).toFixed(2)," "))}))},a.state={email:a.props.match.params.email,transactions:[],prices:{},loading:!0},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(O.a)(k.a.mark((function e(){var t=this;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:P(this.state.email).then((function(e){return t.setState({transactions:e[0],prices:e[1]})})).catch((function(e){t.setState({loading:!1}),console.log(e)})),L(this.state.email).then((function(e){t.setState({balance:Number(e).toFixed(2)})}));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.displayTrans(this.state.transactions,this.state.prices);return r.a.createElement("div",null,r.a.createElement(T,null),r.a.createElement("div",{style:{marginTop:"100px"}},r.a.createElement("h1",{style:{margin:"30px",color:"#1e1e6e",marginTop:"-5vh"}},"Profile"),r.a.createElement("h1",null,r.a.createElement("h2",null,"Hi ",this.state.email," !")),r.a.createElement("h1",{style:{textAlign:"right",padding:"40px",color:"#91b0ff",marginTop:"-5vh"}},"Your balance is $",this.state.balance),r.a.createElement("div",null,r.a.createElement("div",null,e.length?r.a.createElement("table",{className:"datatable",style:{width:"85vw",boxShadow:"4px 4px 5px grey",margin:"auto",paddingTop:"80px"}},r.a.createElement("thead",{className:"thead-light"},r.a.createElement("tr",null,r.a.createElement("th",null,"Symbol/Ticker"),r.a.createElement("th",null,"# of Shares"),r.a.createElement("th",null,"Current Value"),r.a.createElement("th",null,"Current Price"),r.a.createElement("th",null,"Open Price"),r.a.createElement("th",null,"Close Price"))),r.a.createElement("tbody",null,e)):r.a.createElement("h1",null,this.state.loading?"Loading...":"You have no stocks! Go buy some.")))))}}]),t}(n.Component);var X=function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"App"},r.a.createElement(l.HashRouter,{basename:"/"},r.a.createElement(s.g,null,r.a.createElement(s.d,{exact:!0,path:"/",component:g}),r.a.createElement(s.d,{exact:!0,path:"/register",component:v}),r.a.createElement(s.d,{exact:!0,path:"/home/:email",component:A}),r.a.createElement(s.d,{exact:!0,path:"/buy/:email",component:U}),r.a.createElement(s.d,{exact:!0,path:"/transactions/:email",component:J}),r.a.createElement(s.d,{exact:!0,path:"/profile/:email",component:G})))),r.a.createElement(b,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(114);c.a.render(r.a.createElement(X,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},62:function(e,t,a){},64:function(e,t,a){},73:function(e,t,a){e.exports=a(115)},78:function(e,t,a){},79:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"}},[[73,1,2]]]);
//# sourceMappingURL=main.bc9054d2.chunk.js.map